<!-- Título y comienzo de vista -->
<div class="container" style="margin-top: 35px;">
    <h1 class="display-4" style="text-align: center; font-weight:500;">MEMBRESÍAS</h1>


    <!-- BOTÓN PARA ABRIR MODAL -->
    <button class="btn btn-outline-primary" data-bs-toggle="modal" data-bs-target="#agregar">
        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-plus-circle" viewBox="0 0 16 16">
            <path d="M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z"></path>
            <path d="M8 4a.5.5 0 0 1 .5.5v3h3a.5.5 0 0 1 0 1h-3v3a.5.5 0 0 1-1 0v-3h-3a.5.5 0 0 1 0-1h3v-3A.5.5 0 0 1 8 4z"></path>
          </svg>
        Agregar
    </button>




    <!-- Tabla Inicio -->
    <div class="card shadow mb-4" style="margin-top: 35px;">
        <!-- Header de Tarjeta -->
        <div class="card-header py-3">
            
            <div class="input-group mb-3">
                <span class="input-group-text" >
                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-search" viewBox="0 0 16 16">
                        <path d="M11.742 10.344a6.5 6.5 0 1 0-1.397 1.398h-.001c.03.04.062.078.098.115l3.85 3.85a1 1 0 0 0 1.415-1.414l-3.85-3.85a1.007 1.007 0 0 0-.115-.1zM12 6.5a5.5 5.5 0 1 1-11 0 5.5 5.5 0 0 1 11 0z"/>
                      </svg>
                </span>
                
                <input type="text" class="form-control" name="filtroMembre" placeholder="Buscar..." [(ngModel)]="filtroMembre"
                 aria-label="Username" aria-describedby="basic-addon1">
            </div>

        </div>
        
        <!-- Tabla -->
        <div class="card-body">
            <div class="table-responsive">
                <table class="table table-bordered text-center" id="dataTable" width="100%" cellspacing="0">
                    <!-- Header Tabla -->
                    <thead>
                        <tr>
                            <th>Nombre</th>
                            <th>Teléfono</th>
                            <th>Edad</th>
                            <th>Fecha de Expiración</th>
                            <th>Tarjeta de Crédito</th>
                            <th>Clave de Membresía</th>
                            <th>Clave de Activación</th>
                            <th>Acciones</th>
                        </tr>
                    </thead>

                    <!-- Registros obtenidos del Microservicio -->
                    <tbody>
                        <tr *ngFor="let membresia of membresiasDetails | membresias: filtroMembre">
                            
                            <td>{{membresia.nombre_completo}}</td>
                            <td>{{membresia.telefono}}</td>
                            <td>{{membresia.edad}}</td>
                            <td>{{membresia.fecha_exp | date :"dd-MMM-yyyy"}}</td>
                            <td>{{membresia.tarjeta_c}}</td>
                            <td>{{membresia.claveMembresia}}</td>
                            <td *ngIf="membresia.cactivacion == true">Activado</td>
                            <td *ngIf="membresia.cactivacion == false">Desactivado</td>
                            <td>
                                <!-- BOTÓN ELIMINAR -->
                                <button class="btn btn-danger" style="margin-right: 15px;" data-bs-toggle="modal" data-bs-target="#eliminar" (click)="edit(membresia)"><svg
                                        xmlns="http://www.w3.org/2000/svg" width="1em" height="1em"
                                        preserveAspectRatio="xMidYMid meet" viewBox="0 0 24 24">
                                        <path fill="#fff"
                                            d="M10 5h4a2 2 0 1 0-4 0ZM8.5 5a3.5 3.5 0 1 1 7 0h5.75a.75.75 0 0 1 0 1.5h-1.32l-1.17 12.111A3.75 3.75 0 0 1 15.026 22H8.974a3.75 3.75 0 0 1-3.733-3.389L4.07 6.5H2.75a.75.75 0 0 1 0-1.5H8.5Zm2 4.75a.75.75 0 0 0-1.5 0v7.5a.75.75 0 0 0 1.5 0v-7.5ZM14.25 9a.75.75 0 0 1 .75.75v7.5a.75.75 0 0 1-1.5 0v-7.5a.75.75 0 0 1 .75-.75Zm-7.516 9.467a2.25 2.25 0 0 0 2.24 2.033h6.052a2.25 2.25 0 0 0 2.24-2.033L18.424 6.5H5.576l1.158 11.967Z" />
                                    </svg></button>
                                    <!-- BOTÓN EDITAR -->
                                <button  class="btn btn-success" data-bs-toggle="modal" data-bs-target="#editar" (click)="edit(membresia)"><svg xmlns="http://www.w3.org/2000/svg" width="1em"
                                        height="1em" preserveAspectRatio="xMidYMid meet" viewBox="0 0 48 48">
                                        <mask id="svgIDb">
                                            <g fill="none">
                                                <g stroke="#fff" stroke-linecap="round" stroke-linejoin="round"
                                                    stroke-width="4" clip-path="url(#svgIDa)">
                                                    <path
                                                        d="m31 8.999l8 8m-31 15L36 4l8 7.999l-28 28l-10 2l2-10Zm23-23l8 8m-30 15l7 7m-3-4l22-22" />
                                                </g>
                                                <defs>
                                                    <clipPath id="svgIDa">
                                                        <path fill="#000" d="M0 0h48v48H0z" />
                                                    </clipPath>
                                                </defs>
                                            </g>
                                        </mask>
                                        <path fill="#fff" d="M0 0h48v48H0z" mask="url(#svgIDb)" />
                                    </svg></button>
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>

        </div>
    </div>

</div>
  
  










<!-- EMPIEZA MODAL AGREGAR -->
<div class="modal fade" #agregar id="agregar" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-dialog-scrollable">
        <div class="modal-content">
  
            <!-- Header del Modal -->
            <div class="modal-header">
                <!-- Título Modal -->
                <h4 class="modal-title">Agregar Membresía</h4>
                <!-- Botón para cerrar Modal -->
                <button class="btn btn-danger close" aria-label="close" type="button" data-bs-dismiss="modal">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
  
            <!-- Body del Modal -->
        <div class="modal-body">
            <form #addMembre="ngForm" (ngSubmit)="addMembresia(addMembre)">
                <label for="basic-url" class="form-label">Id usuario</label>
                <div class="input-group mb-3">
                    <input type="text" #id_pmembresia name="id_membresia" class="form-control" id="basic-url" aria-describedby="basic-addon3" disabled>
                </div>

                <label for="basic-url" class="form-label">Nombre Completo</label>
                <div class="input-group mb-3">
                    <input type="text" #nombre_completo name="nombre_completo" (ngModel)="membresiasToUpdate.nombre_completo" class="form-control" id="basic-url" aria-describedby="basic-addon3">
                </div>
  
                <label for="basic-url" class="form-label">Teléfono</label>
                <div class="input-group mb-3">
                    <input type="text" #telefono name="telefono" class="form-control" (ngModel)="membresiasToUpdate.telefono" id="basic-url" aria-describedby="basic-addon3">
                </div>
  
                <label for="basic-url" class="form-label">Edad</label>
                <div class="input-group mb-3">
                    <input type="text" #edad name="edad" class="form-control" id="basic-url" (ngModel)="membresiasToUpdate.edad" aria-describedby="basic-addon3">
                </div>
  
  
                <label for="basic-url" class="form-label">Tarjeta de Crédito</label>
                <div class="input-group mb-3">
                        <select class="form-select" #tarjeta_c (ngModel)="membresiasToUpdate.tarjeta_c" name="tarjeta_c" aria-label="Default select example">  
                            <option  value="SI" selected>Si</option>  
                            <option value="NO">No</option>  
                        </select>
                </div>
            
            
  
            <!-- Pie de Modal con botón -->
                <div class="modal-footer">
                    <button #AgregarButtonMembresia id="#AgregarButtonMembresia"  type="submit" style="margin-top: 10px;" class="btn btn-outline-primary" onClick="window.location.reload();">Agregar</button>
                </div>
            </form>
        </div>
        </div>
    </div>
  </div>
  <!-- TERMINA MODAL AGREGAR -->
  











  
  <!-- EMPIEZA MODAL EDITAR -->
  <div class="modal fade" id="editar" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-dialog-scrollable">
        <div class="modal-content">
  
            <!-- Header del Modal -->
            <div class="modal-header" style="background-color: #20A140;">
                <!-- Título Modal -->
                <h4 class="modal-title" id="exampleModalLabel" style="color: white;">Editar membresía</h4>
                <!-- Botón para cerrar Modal -->
                <button class="btn btn-outline-dark close" aria-label="close" type="button" data-bs-dismiss="modal">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
  
            <!-- Body del Modal -->
            <div class="modal-body">

                <label for="basic-url" class="form-label">Id usuario</label>
                <div class="input-group mb-3">
                    <input type="text" #id_membresia name="id_membresia" [(ngModel)]="membresiasToUpdate.id_membresia" class="form-control"  disabled>
                </div>


                <div class="form-group">
                    <label for="nombre_completo" class="form-label">Nombre</label>
                    <input type="text" #nombre_completo [(ngModel)]="membresiasToUpdate.nombre_completo"  name="nombre_completo"
                        class="form-control">
                </div>
  
                <label for="basic-url" class="form-label">Teléfono</label>
                <div class="input-group mb-3">
                    <input type="text" class="form-control" id="basic-url" [(ngModel)]="membresiasToUpdate.telefono" aria-describedby="basic-addon3">
                </div>
  
                <label for="edad" class="form-label">Edad</label>
                <div class="input-group mb-3">
                    <input type="text" #edad name="edad" class="form-control" id="basic-url" [(ngModel)]="membresiasToUpdate.edad" aria-describedby="basic-addon3">
                </div>
  
                <label for="basic-url" class="form-label">Fecha de Expiración</label>
                <div class="input-group mb-3">
                    <input type="date" class="form-control" id="basic-url" [(ngModel)]="membresiasToUpdate.fecha_exp" aria-describedby="basic-addon3">
                </div>
  
                <label for="basic-url" class="form-label">Tarjeta de Crédito</label>
                <div>
                    <select class="form-select" #tarjeta_c name="tarjeta_c" [(ngModel)]="membresiasToUpdate.tarjeta_c" aria-label="Default select example">  
                        <option  value="SI" selected>Si</option>  
                        <option value="NO">No</option>  
                    </select>
                </div>
  
                <label for="basic-url" class="form-label">Clave de Membresía</label>
                <div class="input-group mb-3">
                    <input type="text" class="form-control" #claveMembresia name="claveMembresia" [(ngModel)]="membresiasToUpdate.claveMembresia" aria-describedby="basic-addon3">
                </div>
  
                <label class="form-label">Activación</label>
                        <div>
                            <select class="form-select" #cactivacion name="cactivacion" [(ngModel)]="membresiasToUpdate.cactivacion" aria-label="Default select example">  
                                <option  value="true" selected>Si</option>  
                                <option value="false">No</option>  
                            </select>
                        </div>
                <div class="form-group">
                    <button #gregarButtonProveedor_eliminar id="AgregarButtonProveedor_eliminar" onClick="window.location.reload();"  (click)="updateMembresia(claveMembresia.value)" type="submit" style="margin-top: 10px;" class="btn btn-outline-success">Editar</button>
                </div>
            </div>
  
            <!-- Pie de Modal con botón -->
            
        </div>
    </div>
  </div>
  
  <!-- TERMINA MODAL EDITAR -->
  


















    <!-- EMPIEZA MODAL ELIMINAR -->
    <div class="modal fade" id="eliminar" #eliminar tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-dialog-scrollable">
            <div class="modal-content">
      
                <!-- Header del Modal -->
                <div class="modal-header" style="background-color: #F55353;">
                    <!-- Título Modal -->
                    <h4 class="modal-title" id="exampleModalLabel" style="color: white;">Eliminar membresía</h4>
                    <!-- Botón para cerrar Modal -->
                    <button class="btn btn-outline-dark close" aria-label="close" type="button" data-bs-dismiss="modal">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
      
                <!-- Body del Modal -->
                <div class="modal-body">
    
                    <label for="basic-url" class="form-label">Id usuario</label>
                    <div class="input-group mb-3">
                        <input type="text" #id_membresia name="id_membresia" [(ngModel)]="membresiasToUpdate.id_membresia" class="form-control"  disabled>
                    </div>
    
    
                    <div class="form-group">
                        <label for="nombre_completo" class="form-label">Nombre</label>
                        <input type="text" #nombre_completo [(ngModel)]="membresiasToUpdate.nombre_completo"  name="nombre_completo"
                            class="form-control" disabled>
                    </div>
      
                    <label for="basic-url" class="form-label">Teléfono</label>
                    <div class="input-group mb-3">
                        <input type="text" class="form-control" id="basic-url" [(ngModel)]="membresiasToUpdate.telefono" disabled aria-describedby="basic-addon3">
                    </div>
      
                    <label for="edad" class="form-label">Edad</label>
                    <div class="input-group mb-3">
                        <input type="text" #edad name="edad" class="form-control" disabled id="basic-url" [(ngModel)]="membresiasToUpdate.edad" aria-describedby="basic-addon3">
                    </div>
      
                    <label for="basic-url" class="form-label">Fecha de Expiración</label>
                    <div class="input-group mb-3">
                        <input type="date" class="form-control" id="basic-url" disabled [(ngModel)]="membresiasToUpdate.fecha_exp" aria-describedby="basic-addon3">
                    </div>
      
                    <label for="basic-url" class="form-label">Tarjeta de Crédito</label>
                    <div>
                        <select class="form-select" #tarjeta_c name="tarjeta_c" disabled [(ngModel)]="membresiasToUpdate.tarjeta_c" aria-label="Default select example">  
                            <option  value="SI" selected>Si</option>  
                            <option value="NO">No</option>  
                        </select>
                    </div>
      
                    <label for="basic-url" class="form-label">Clave de Membresía</label>
                    <div class="input-group mb-3">
                        <input type="text" class="form-control" #claveMembresia name="claveMembresia" disabled [(ngModel)]="membresiasToUpdate.claveMembresia" aria-describedby="basic-addon3">
                    </div>
      
                    <label class="form-label">Activación</label>
                            <div>
                                <select class="form-select" #cactivacion name="cactivacion" disabled [(ngModel)]="membresiasToUpdate.cactivacion" aria-label="Default select example">  
                                    <option  value="true" selected>Si</option>  
                                    <option value="false">No</option>  
                                </select>
                            </div>


                    <div class="form-group">
                        <button #gregarButtonProveedor_delete id="AgregarButtonProveedor_delete"  (click)="eliminarMembresia(claveMembresia.value)" style="margin-top: 10px;" class="btn btn-outline-danger" onClick="window.location.reload();">Confirmación de eliminacion de membresia</button>
                    </div>
                </div>
      
                <!-- Pie de Modal con botón -->
                
            </div>
        </div>
      </div>
      
      <!-- TERMINA MODAL EDITAR -->